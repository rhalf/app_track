<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8" />
</head>
<body>
    <!-- Sidebar -->
    <div id="left-side-wrapper">
        <div class="container-fluid">
            <br />
            <!--<hr />-->
            <!--<div class="label">
                <div class="h4">Options</div>
            </div>-->

            <div class="row">
                <div class="col-md-12">

                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">
                                <span class="glyphicon glyphicon-list-alt"></span>
                            </div>
                            <select class="form-control" ng-init="selectedProperty = 'Name'" ng-model="selectedProperty">
                                <option>Name</option>
                                <option>Plate</option>
                                <option>Imei</option>
                                <option>Sim</option>
                                <option>Driver</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">
                                <span class="glyphicon glyphicon-search"></span>
                            </div>
                            <input type="text" class="form-control" ng-model="selected" placeholder="Search" />
                        </div>
                    </div>
                </div>
            </div>

            <div class="label">
                <div class="h4">Collections</div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <uib-accordion close-others="true">
                        <!--<uib-accordion-group is-open="accordion[0]" ng-hide="authUser.Privilege.Value > 4">
                            <uib-accordion-heading>
                                All
                                <span class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': accordion[0], 'glyphicon-chevron-right': !accordion[0]}"></span>
                                <span class="pull-right badge"> {{ fleet.vehicles.length }} </span>
                            </uib-accordion-heading>
                            <uib-accordion-body>
                                <div ng-repeat="vehicle in fleet.vehicles | filter : selected">
                                    <ul class="list-inline">
                                        <li><input type="checkbox" class="checkbox" ng-model="vehicle.Tracked" ng-change="check(vehicle)" /></li>
                                        <li>
                                            <div ng-show="selectedProperty == 'Plate'">{{vehicle.Plate}}</div>
                                            <div ng-show="selectedProperty == 'Name'">{{vehicle.Name}}</div>
                                            <div ng-show="selectedProperty == 'Imei'">{{vehicle.Unit.Imei}}</div>
                                            <div ng-show="selectedProperty == 'Sim'">{{vehicle.Unit.Sim.Number}}</div>
                                            <div ng-show="selectedProperty == 'Driver'">{{vehicle.Driver.Name}}</div>
                                        </li>
                                        <li class="pull-right">
                                            <span class="glyphicon glyphicon-cog">

                                            </span>
                                        </li>
                                    </ul>
                                </div>

                            </uib-accordion-body>
                        </uib-accordion-group>-->
                        <uib-accordion-group ng-repeat="collection in fleet.collections" is-open="accordion[$index + 1]">
                            <uib-accordion-heading>
                                {{ collection.Name  | limitTo : 15 }}

                                <span class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': accordion[$index + 1], 'glyphicon-chevron-right': !accordion[$index + 1]}"></span>
                                <span class="pull-right">&nbsp</span>
                                <span class="pull-right badge"> {{ collection.Vehicles.length }} </span>
                            </uib-accordion-heading>

                            <div ng-repeat="vehicle in collection.Vehicles | filter : selected track by vehicle.Id">
                                <ul class="list-inline">

                                    <li><input type="checkbox" class="checkbox" ng-model="vehicle.Tracked" ng-change="check(this.vehicle)" /></li>
                                    <li>
                                        <div ng-show="selectedProperty == 'Plate'">{{vehicle.Plate}}</div>
                                        <div ng-show="selectedProperty == 'Name'">{{vehicle.Name}}</div>
                                        <div ng-show="selectedProperty == 'Imei'">{{vehicle.Unit.Imei}}</div>
                                        <div ng-show="selectedProperty == 'Sim'">{{vehicle.Unit.Sim.Number}}</div>
                                        <div ng-show="selectedProperty == 'Driver'">{{vehicle.Driver.Name}}</div>
                                    </li>
                                    <li class="pull-right">
                                        <span class="glyphicon glyphicon-cog">

                                        </span>
                                    </li>
                                </ul>
                            </div>


                        </uib-accordion-group>
                    </uib-accordion>

                    <br />
                    <br />
                    <br />

                </div>
            </div>
        </div>
    </div>

</body>
</html>
